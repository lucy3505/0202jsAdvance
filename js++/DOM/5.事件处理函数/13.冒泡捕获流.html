<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      .wrapper {
        width: 300px;
        height: 300px;
        background-color: blue;
      }
      .outer {
        width: 200px;
        height: 200px;
        background-color: green;
      }
      .inner {
        width: 100px;
        height: 100px;
        background-color: orange;
      }
    </style>
  </head>
  <body>
    <div class="wrapper">
      <div class="outer"><div class="inner"></div></div>
    </div>
    <script>
      // 事件流：描述从页面中接受事件的顺序  冒泡  捕获
      //ie 提出的  事件冒泡流 (event bubbling)
      //Netscape提出的  事件捕获流 （event capturing)
      var wrapper = document.getElementsByClassName("wrapper")[0],
        outer = wrapper.getElementsByClassName("outer")[0],
        inner = outer.getElementsByClassName("inner")[0];
      // wrapper.addEventListener(
      //   "click",
      //   function () {
      //     console.log("wrapper");
      //   },
      //   false
      // );
      // outer.addEventListener(
      //   "click",
      //   function () {
      //     console.log("outer");
      //   },
      //   false
      // );
      // inner.addEventListener(
      //   "click",
      //   function () {
      //     console.log("inner");
      //   },
      //   false
      // );

      //onclick也是有冒泡 但下面这种只能是冒泡  没法做捕获  所以说一般建议需要做捕获的需求情况下用冒泡来做，冒泡一样可以写的，铺货可以转换成冒泡逻辑来写
      // wrapper.onclick = function () {
      //   console.log("wrapper");
      // };
      // outer.onclick = function () {
      //   console.log("outer");
      // };
      // inner.onclick = function () {
      //   console.log("inner");
      // };

      //捕获流：事件源先不执行  先找最外层父级有没有相同的事件需要执行 从外往里走  一直到事件源
      //    wrapper.addEventListener(
      //   "click",
      //   function () {
      //     console.log("wrapper");
      //   },
      //   true
      // );
      // outer.addEventListener(
      //   "click",
      //   function () {
      //     console.log("outer");
      //   },
      //   true
      // );
      // inner.addEventListener(
      //   "click",
      //   function () {
      //     console.log("inner");
      //   },
      //   true
      // );
      //其实在冒泡和捕获之间还有一个阶段 叫做处于目标阶段

      //捕获事件流：事件捕获阶段，处于目标阶段，事件冒泡阶段
      //冒泡事件流：处于目标阶段，->事件冒泡阶段

      wrapper.addEventListener(
        "click",
        function () {
          console.log("wrapper冒泡");
        },
        false
      );
      outer.addEventListener(
        "click",
        function () {
          console.log("outer冒泡");
        },
        false
      );
      inner.addEventListener(
        "click",
        function () {
          console.log("inner目标（冒泡）");
        },
        false
      );

      wrapper.addEventListener(
        "click",
        function () {
          console.log("wrapper捕获");
        },
        true
      );
      outer.addEventListener(
        "click",
        function () {
          console.log("outer捕获");
        },
        true
      );
      inner.addEventListener(
        "click",
        function () {
          console.log("inner目标（捕获）");
        },
        true
      );

      // DOM0->onXXX4
      // DOM1 没有  定义事件模型
      // DOM2 addEventListener(3个参数) ->w3c规范
      //      removeEventListener
    </script>
  </body>
</html>
