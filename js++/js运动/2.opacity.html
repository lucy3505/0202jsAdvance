<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style type="text/css">
      .box {
        width: 100px;
        height: 100px;
        background-color: red;
      }
    </style>
  </head>
  <body>
    <div class="box"></div>
    <script type="text/javascript">
      var div = document.getElementsByClassName("box")[0];
      div.onclick = function () {
        console.log(getStyles(this, "opacity"));
        startMove();
      };
      function startMove(dom, target) {
        var speed;

        clearInterval(timer);
        timer = setInterval(function () {
          speed = (target - dom.offsetLeft) / 7;
          speed = speed > 0 ? Math.ceil(speed) : Math.floor(speed);
          console.log(speed);

          if (oDiv.offsetLeft === target) {
            clearInterval(timer);
          } else {
            dom.style.left = dom.offsetLeft + speed + "px";
          }
        }, 30);
      }
      function getStyles(elem, prop) {
        if (window.getComputedStyle) {
          //ie9 以上版本
          if (prop) {
            return window.getComputedStyle(elem, null)[prop];
          } else {
            return window.getComputedStyle(elem, null); //返回对象
          }
        } else {
          //ie6
          if (prop) {
            return elem.currentStyle[prop];
          } else {
            return elem.currentStyle;
          }
        }
      }
    </script>
  </body>
</html>
