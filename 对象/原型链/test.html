<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>文字自动分插不同的div-Jason Yu</title>
<style type="text/css">
*{margin:0;padding:0;}
body{line-height:24px;font-family:SimSun;font-size:12px;color:#000;}
#box1{height:96px;}
.box{width:200px;overflow:hidden;margin-top:10px;border:1px solid #000;}
</style>
</head>
<body>
  <div class="b1" id="b1">jfkdsljfds

    <p>fdsdfdsf</p>
    <p>fdsdfdsf</p>
    <p>fdsdfdsf</p>
    <p>fdsdfdsf</p>
    <p>fdsdfdsf</p>
    <p>fdsdfdsf</p>
    <p>fdsdfdsf</p>
    <p>fdsdfdsf</p>
  </div>
<div id="box1" class="box"></div>
<script type="text/javascript">
 var str=document.getElementById('b1').innerHTML
var oBox1 = document.getElementById("box1");
function fnTextOver(n1){
    var newBox2 = document.createElement("div");
    document.body.appendChild(newBox2);
    newBox2.className = "box";
    for(var i=n1; i<=str.length; i++){
        newBox2.innerHTML = str.substring(n1,i);
        if(newBox2.offsetHeight<=98){
            if(i==str.length){
                newBox2.style.height = "96px";
            }
        }else{
            newBox2.innerHTML = str.substring(n1,i-1);
            newBox2.style.height = "96px";
            arguments.callee(i-1);
            break;
        }
    }
}

function fnShowText(){
  var str=document.getElementById('b1').innerHTML
    var newBox = document.createElement("div");
    document.body.appendChild(newBox);
    newBox.className = "box";
    debugger
    for(var i=1; i<=str.length; i++){
      debugger
        newBox.innerHTML = str.substring(0,i);
        if(newBox.offsetHeight<=98){
            oBox1.innerHTML = str.substring(0,i);
            if(i==str.length){
                document.body.removeChild(newBox);
            }
        }else{
            document.body.removeChild(newBox);
            fnTextOver(i-1);
            break;
        }
    }
}
fnShowText();
</script>
</body>
</html>